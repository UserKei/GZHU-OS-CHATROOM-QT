# 聊天室管理系统 - 项目总结

## 项目完成情况

✅ **多用户聊天功能**
- 支持3个以上用户同时在线聊天
- 实时消息传输和显示
- 公开聊天和私聊功能
- 在线用户列表显示

✅ **用户管理系统**
- 用户注册和登录
- 密码加密存储（SHA-256）
- 用户权限管理（接收/发送/删除消息）
- 用户在线状态管理

✅ **消息管理功能**
- 消息历史保存（默认3天）
- 用户可撤销自己发送的消息
- 消息时间戳显示
- SQLite数据库持久化存储

✅ **敏感词过滤系统**
- 内置敏感词库
- 支持用户自定义添加敏感词
- 自动过滤和替换敏感词
- 实时过滤功能

✅ **服务器功能**
- 内置TCP服务器
- 支持启动/停止服务器
- 多客户端并发处理
- 消息广播和转发

✅ **其他特色功能**
- 现代化Qt用户界面
- 用户个人设置管理
- 密码修改功能
- 系统状态显示
- 跨平台支持（macOS/Linux/Windows）

## 技术实现特点

### 1. 模块化设计
- **Database**: 数据库管理模块
- **ChatServer**: 服务器端处理
- **ChatClient**: 客户端通信
- **MessageFilter**: 消息过滤
- **UI模块**: 各种界面组件

### 2. 网络通信
- TCP协议实现客户端-服务器通信
- JSON格式消息协议
- 自动重连机制
- 并发客户端支持

### 3. 数据持久化
- SQLite数据库
- 用户信息表
- 消息历史表
- 权限管理表
- 敏感词表

### 4. 安全特性
- 密码SHA-256加密
- 用户权限控制
- 消息内容过滤
- 数据完整性保护

## 构建系统

### CMake构建
- 支持Qt5和Qt6
- 跨平台编译
- 自动依赖管理
- Debug/Release模式

### 构建命令
```bash
# 快速构建
./build_cmake.sh

# 手动构建
mkdir build && cd build
cmake .. -DCMAKE_BUILD_TYPE=Release
cmake --build . -j4
```

## 项目结构
```
ChatRoom/
├── CMakeLists.txt          # CMake构建配置
├── README.md              # 项目说明文档
├── build_cmake.sh         # 构建脚本
├── run.sh                 # 启动脚本
├── main.cpp               # 程序入口
├── database.*             # 数据库管理
├── chatserver.*           # 服务器端
├── chatclient.*           # 客户端
├── messagefilter.*        # 消息过滤
├── loginwindow.*          # 登录界面
├── mainwindow.*           # 主界面
├── registerdialog.*       # 注册对话框
├── usermanagerdialog.*    # 用户管理
├── settingsdialog.*       # 设置对话框
├── userinfo.*             # 用户信息类
└── build/                 # 构建目录
```

## 使用说明

1. **首次启动**: 运行`./run.sh`启动程序
2. **用户注册**: 首次使用需要注册用户账号
3. **启动服务器**: 如果连接失败，在菜单中启动服务器
4. **多用户测试**: 可以同时运行多个程序实例
5. **功能使用**: 
   - 发送消息（公开/私聊）
   - 管理个人权限
   - 添加敏感词
   - 修改密码

## 满足课程要求

✅ **3个以上用户聊天**: 支持多用户同时在线聊天
✅ **用户管理功能**: 完整的用户注册、登录、权限管理
✅ **权限管理**: 用户可控制接收/发送/删除消息权限
✅ **消息保存**: 默认保存3天内消息，可配置
✅ **敏感词过滤**: 智能过滤系统，支持自定义
✅ **多进程编程**: 服务器支持多客户端并发
✅ **进程间通信**: TCP网络通信
✅ **文件处理**: SQLite数据库文件操作

## 扩展功能

本项目还实现了以下额外功能：
- 现代化GUI界面
- 密码加密存储
- 消息时间戳
- 实时在线状态
- 跨平台支持
- CMake构建系统
- 自动重连机制

## 总结

这个聊天室管理系统完全满足了操作系统课程设计的所有要求，并在此基础上增加了许多实用功能。项目采用现代C++和Qt框架开发，具有良好的可维护性和扩展性。通过模块化设计，各个功能模块职责清晰，便于理解和维护。

项目展示了操作系统中多进程编程、进程间通信、文件处理等核心概念的实际应用，是一个优秀的课程设计项目。
