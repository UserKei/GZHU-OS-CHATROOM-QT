# èŠå¤©å®¤ç³»ç»Ÿ - é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ ä¼˜åŒ–åçš„é¡¹ç›®ç»“æ„

```
ChatRoom/
â”œâ”€â”€ CMakeLists.txt              # CMakeæ„å»ºé…ç½®
â”œâ”€â”€ ChatRoom.pro               # Qté¡¹ç›®æ–‡ä»¶ï¼ˆå¤‡ç”¨ï¼‰
â”œâ”€â”€ build_cmake.sh.in          # CMakeè„šæœ¬æ¨¡æ¿
â”‚
â”œâ”€â”€ src/                       # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.cpp              # ç¨‹åºå…¥å£ç‚¹
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                 # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ database.cpp      # æ•°æ®åº“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ database.h        
â”‚   â”‚   â”œâ”€â”€ userinfo.cpp      # ç”¨æˆ·ä¿¡æ¯ç±»
â”‚   â”‚   â”œâ”€â”€ userinfo.h        
â”‚   â”‚   â”œâ”€â”€ messagefilter.cpp # æ¶ˆæ¯è¿‡æ»¤å™¨
â”‚   â”‚   â””â”€â”€ messagefilter.h   
â”‚   â”‚
â”‚   â”œâ”€â”€ network/              # ç½‘ç»œé€šä¿¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ chatclient.cpp    # èŠå¤©å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ chatclient.h      
â”‚   â”‚   â”œâ”€â”€ chatserver.cpp    # èŠå¤©æœåŠ¡å™¨
â”‚   â”‚   â””â”€â”€ chatserver.h      
â”‚   â”‚
â”‚   â””â”€â”€ ui/                   # ç”¨æˆ·ç•Œé¢æ¨¡å—
â”‚       â”œâ”€â”€ windows/          # ä¸»è¦çª—å£
â”‚       â”‚   â”œâ”€â”€ loginwindow.cpp    # ç™»å½•çª—å£
â”‚       â”‚   â”œâ”€â”€ loginwindow.h      
â”‚       â”‚   â”œâ”€â”€ mainwindow.cpp     # ä¸»ç•Œé¢çª—å£
â”‚       â”‚   â””â”€â”€ mainwindow.h       
â”‚       â”‚
â”‚       â””â”€â”€ dialogs/          # å¯¹è¯æ¡†
â”‚           â”œâ”€â”€ registerdialog.cpp      # æ³¨å†Œå¯¹è¯æ¡†
â”‚           â”œâ”€â”€ registerdialog.h        
â”‚           â”œâ”€â”€ usermanagerdialog.cpp   # ç”¨æˆ·ç®¡ç†å¯¹è¯æ¡†
â”‚           â”œâ”€â”€ usermanagerdialog.h     
â”‚           â”œâ”€â”€ settingsdialog.cpp      # è®¾ç½®å¯¹è¯æ¡†
â”‚           â””â”€â”€ settingsdialog.h        
â”‚
â”œâ”€â”€ include/                   # å¤´æ–‡ä»¶ç›®å½•ï¼ˆé¢„ç•™ï¼‰
â”‚   â”œâ”€â”€ core/                 # æ ¸å¿ƒæ¨¡å—å¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ network/              # ç½‘ç»œæ¨¡å—å¤´æ–‡ä»¶
â”‚   â””â”€â”€ ui/                   # UIæ¨¡å—å¤´æ–‡ä»¶
â”‚
â”œâ”€â”€ docs/                     # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ README.md             # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”‚   â””â”€â”€ PROJECT_SUMMARY.md    # é¡¹ç›®æ€»ç»“
â”‚
â”œâ”€â”€ scripts/                  # è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ build_cmake.sh        # CMakeæ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ build.sh             # QMakeæ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ run.sh               # ç¨‹åºå¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ test.sh              # æµ‹è¯•è„šæœ¬
â”‚
â”œâ”€â”€ resources/                # èµ„æºæ–‡ä»¶ç›®å½•ï¼ˆé¢„ç•™ï¼‰
â”‚   â””â”€â”€ (å›¾æ ‡ã€æ ·å¼ç­‰èµ„æºæ–‡ä»¶)
â”‚
â””â”€â”€ build/                    # æ„å»ºè¾“å‡ºç›®å½•
    â”œâ”€â”€ bin/                  # å¯æ‰§è¡Œæ–‡ä»¶
    â””â”€â”€ (å…¶ä»–æ„å»ºç”Ÿæˆæ–‡ä»¶)
```

## ğŸ¯ æ¨¡å—åŒ–è®¾è®¡ä¼˜åŠ¿

### 1. **æ¸…æ™°çš„èŒè´£åˆ†ç¦»**
- **core/**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œä¸ä¾èµ–UI
- **network/**: ç½‘ç»œé€šä¿¡ï¼Œç‹¬ç«‹çš„ç½‘ç»œå±‚
- **ui/**: ç”¨æˆ·ç•Œé¢ï¼Œåˆ†ä¸ºçª—å£å’Œå¯¹è¯æ¡†

### 2. **æ˜“äºç»´æŠ¤**
- ç›¸å…³åŠŸèƒ½æ–‡ä»¶ç»„ç»‡åœ¨ä¸€èµ·
- å‡å°‘æ–‡ä»¶æŸ¥æ‰¾æ—¶é—´
- ä¾¿äºå›¢é˜Ÿåä½œå¼€å‘

### 3. **ä¾¿äºæ‰©å±•**
- æ–°åŠŸèƒ½å¯ä»¥ç‹¬ç«‹æ·»åŠ åˆ°å¯¹åº”æ¨¡å—
- æ¨¡å—é—´ä¾èµ–å…³ç³»æ¸…æ™°
- æ”¯æŒæ’ä»¶åŒ–æ‰©å±•

### 4. **æ„å»ºä¼˜åŒ–**
- CMakeé…ç½®æ›´åŠ æ¸…æ™°
- æ”¯æŒæ¨¡å—åŒ–ç¼–è¯‘
- ä¾¿äºè®¾ç½®ä¸åŒçš„ç¼–è¯‘é€‰é¡¹

## ğŸ“‹ å„æ¨¡å—è¯´æ˜

### Coreæ¨¡å— (src/core/)
- **database**: SQLiteæ•°æ®åº“æ“ä½œï¼Œç”¨æˆ·ç®¡ç†ï¼Œæ¶ˆæ¯å­˜å‚¨
- **userinfo**: ç”¨æˆ·ä¿¡æ¯æ•°æ®ç»“æ„
- **messagefilter**: æ•æ„Ÿè¯è¿‡æ»¤åŠŸèƒ½

### Networkæ¨¡å— (src/network/)
- **chatclient**: TCPå®¢æˆ·ç«¯ï¼Œå¤„ç†ä¸æœåŠ¡å™¨çš„é€šä¿¡
- **chatserver**: TCPæœåŠ¡å™¨ï¼Œå¤„ç†å¤šå®¢æˆ·ç«¯è¿æ¥å’Œæ¶ˆæ¯è½¬å‘

### UIæ¨¡å— (src/ui/)
- **windows/**: ä¸»è¦åº”ç”¨ç¨‹åºçª—å£
  - **loginwindow**: ç”¨æˆ·ç™»å½•ç•Œé¢
  - **mainwindow**: ä¸»èŠå¤©ç•Œé¢
- **dialogs/**: å„ç§åŠŸèƒ½å¯¹è¯æ¡†
  - **registerdialog**: ç”¨æˆ·æ³¨å†Œ
  - **usermanagerdialog**: ç”¨æˆ·æƒé™ç®¡ç†
  - **settingsdialog**: åº”ç”¨ç¨‹åºè®¾ç½®

### Scriptsæ¨¡å— (scripts/)
- **build_cmake.sh**: ä½¿ç”¨CMakeæ„å»ºé¡¹ç›®
- **run.sh**: å¯åŠ¨åº”ç”¨ç¨‹åº
- **test.sh**: åŠŸèƒ½æµ‹è¯•æŒ‡å—

### Docsæ¨¡å— (docs/)
- **README.md**: å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£
- **PROJECT_SUMMARY.md**: é¡¹ç›®æ€»ç»“å’ŒæŠ€æœ¯è¯´æ˜

## ğŸš€ æ„å»ºå‘½ä»¤

```bash
# ä½¿ç”¨ä¼˜åŒ–åçš„æ„å»ºè„šæœ¬
./scripts/build_cmake.sh

# å¯åŠ¨ç¨‹åº
./scripts/run.sh

# æŸ¥çœ‹æµ‹è¯•æŒ‡å—
./scripts/test.sh
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. ç¡®å®šåŠŸèƒ½å±äºå“ªä¸ªæ¨¡å—
2. åœ¨å¯¹åº”çš„src/ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶
3. æ›´æ–°CMakeLists.txtä¸­çš„æºæ–‡ä»¶åˆ—è¡¨
4. æ·»åŠ å¿…è¦çš„å¤´æ–‡ä»¶åŒ…å«

### æ¨¡å—ä¾èµ–è§„åˆ™
- **UIæ¨¡å—** å¯ä»¥ä¾èµ– **Core** å’Œ **Network** æ¨¡å—
- **Networkæ¨¡å—** å¯ä»¥ä¾èµ– **Core** æ¨¡å—
- **Coreæ¨¡å—** åº”è¯¥ä¿æŒç‹¬ç«‹ï¼Œä¸ä¾èµ–å…¶ä»–æ¨¡å—

è¿™ç§ç»“æ„åŒ–çš„ç»„ç»‡æ–¹å¼ä½¿å¾—é¡¹ç›®æ›´åŠ ä¸“ä¸šå’Œæ˜“äºç»´æŠ¤ï¼
